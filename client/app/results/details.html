<div class="container" ng-init="init()">
  <div class="row text-center details-module-name">
      <h1><strong><a href="{{module.url}}">{{module.name}}</a></strong> - <small>{{module.description}}</small></h1> 
  </div>

  <div class="row">
    <div class="col-md-9">
      <!-- Graphs here -->
      <div class="btn-group graph-type">
        <!-- <button type="button" class="btn btn-default" ng-click="drawGraph('downloads')">Downloads</button> -->
        <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Downloads <span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
            <li><a ng-click="drawGraph('downloads')">All Downloads</a></li>
            <li><a ng-click="drawGraph('downloads','weekdays')">Weekdays</a></li>
            <li><a ng-click="drawGraph('downloads', 'weekends')">Weekends</a></li>
          </ul>
        </div>
        <button type="button" class="btn btn-default" ng-click="drawGraph('version')">Version</button>
        <button type="button" class="btn btn-default" ng-click="drawGraph('dependency')">Dependents</button>
        <button type="button" class="btn btn-default" ng-click="">Keywords</button>
        <button type="button" class="btn btn-default" ng-if="hasSearchResults()" ui-sref="app.results">Back to Search</button>
      </div>
      <div id="graph-container"></div>
    </div>
    <div class="col-md-3">
      <!-- Module information here -->
      <dt ng-click="copy()" id="install-link" data-clipboard-text="npm install {{module.name}}">
        <span class="glyphicon glyphicon-save ">&#32;</span>
        npm install {{module.name}}
      </dt>
      <dl class="dl-horizontal details-stats">
        <dt>Monthly Downloads</dt>
        <dd>{{module.monthlyDownloadSum}}</dd>
        <dt>Last Update</dt>
        <dd>{{module.lastUpdate}}</dd>
        <dt>Latest Version</dt>
        <dd>{{module.latestVersion}}</dd>
        <dt>Starred</dt>
        <dd>{{module.starred}}</dd>
        <dt># of Dependents</dt>
        <dd>{{module.dependentsSize}}</dd>
      </dl>
      <div class="details-description" ng-switch="selectedGraph">
        <div ng-switch-when="downloads">
          <h4>Monthly Downloads.</h4>
          <form ng-submit="submitFilterForm()"><div class="form-group">
            <dl class="dl-horizontal download-graph-params">
              <dt>Bar Width</dt>
              <dd><input class="full-width" type='number' name="bar-width" min='1' max='10' ng-model="dlForm.barWidth"></dd>
              <dt>Moving Average Period</dt>
              <dd><input class="full-width" type='number' name="ma-period" min='10' max='500' ng-model="dlForm.maPeriod"></dd>
              <dt>Start Date</dt>
              <dd><input name="start-date" type='date' ng-model="dlForm.startDate"></dd>
              <dt>End Date</dt>
              <dd><input name="end-date" type='date' ng-model="dlForm.endDate"></dd>
            </dl>
            <div class="btn-group text-to-right">
              <button type="reset" ng-click="resetFilterForm()" class="btn btn-default">Reset</button>
              <button type="submit" class="btn btn-success">Submit</button>
            </div>
          </div></form>
        </div>
        <div ng-switch-when="dependency">
          <h4>Modules that list {{module.name}} as a dependency.</h4>
        </div>
        <div ng-switch-when="version">
          <h4>Version release history.</h4>
          <dl class="dl-horizontal download-graph-params">
            <dt>Start Date</dt>
            <dd><input type='date'></dd>
            <dt>End Date</dt>
            <dd><input type='date'></dd>
            <dt><button class="btn btn-success">Submit</button></dt>
            <dd><button class="btn btn-default">Reset</button></dd>
          </dl>
        </div>
      </div>
    </div>
  </div>

  <div class="row details-readme">
    <h1><strong>Readme</strong></h1><p>{{module.readme}}</p>
  </div>
</div>