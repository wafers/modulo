<div class="container" ng-init="init()">
  <div class="row text-center details-module-name">
      <h1><strong><a href="{{module.url}}">{{module.name}}</a></strong> - <small>{{module.description}}</small></h1> 
  </div>

  <div class="row">
    <div class="col-md-9">
      <!-- Graphs Selection here -->
      <div class="btn-group graph-type">
        <button type="button" class="btn btn-default" ng-click="drawGraph('downloads')">Downloads</button> 
        <button type="button" class="btn btn-default" ng-click="drawGraph('version')">Version</button>
        <button type="button" class="btn btn-default" ng-click="drawGraph('dependency')">Dependents</button>
        <button type="button" class="btn btn-default" ng-click="">Keywords</button>
        <button type="button" class="btn btn-default" ng-if="hasSearchResults()" ui-sref="app.results">Back to Search</button>
      </div>
      <div id="graph-container"></div>
    </div>
    <div class="col-md-3">
      <!-- Module information here -->
      <dt ng-click="copy()" id="install-link" data-clipboard-text="npm install {{module.name}}">
        <small>Click to copy:</small>
        <span class="glyphicon glyphicon-save ">&#32;</span>
        npm install {{module.name}}
      </dt>
      <dl class="dl-horizontal details-stats">
        <dt>Monthly Downloads</dt>
        <dd>{{module.monthlyDownloadSum}}</dd>
        <dt>Last Update</dt>
        <dd>{{module.lastUpdate}}</dd>
        <dt>Latest Version</dt>
        <dd>{{module.latestVersion}}</dd>
        <dt>Starred</dt>
        <dd>{{module.starred}}</dd>
        <dt># of Dependents</dt>
        <dd>{{module.dependentsSize}}</dd>
      </dl>
      <div class="details-description" ng-switch="selectedGraph">
        <div ng-switch-when="downloads">
          <h4>Monthly Downloads.</h4>
          <form ng-submit="drawGraph('downloads')" class="form-horizontal">
            <!-- Bar Width --> 
            <div class="form-group">
              <label for="bar-width" class="col-md-4 control-label">Bar Width</label>
              <div class="col-md-8">
                <input type="number" class="form-control" id="bar-width" min='1' max='10' ng-model="dlForm.barWidth">
              </div>
            </div>

            <!-- Ma Period --> 
            <div class="form-group">
              <label for="ma-period" class="col-md-4 control-label">MA Period</label>
              <div class="col-md-8">
                <input type="number" class="form-control" id="ma-period" min='10' max='500' ng-model="dlForm.maPeriod">
              </div>
            </div>

            <!-- Date Range controls -->
            <div class="form-group">
              <label for="start-date" class="col-md-4 control-label">Start Date</label>
              <div class="col-md-8">
                <input type="date" class="form-control" id="start-date" ng-model="dlForm.startDate">
              </div>
            </div>
            <div class="form-group">
              <label for="end-date" class="col-md-4 control-label">End Date</label>
              <div class="col-md-8">
                <input type="date" class="form-control" id="end-date" ng-model="dlForm.endDate">
              </div>
            </div>

            <!-- All, weekend, weekday filter -->
            <div class="radio-buttons">
              <div class="radio">
                <label>
                  <input type="radio" ng-model="dlForm.filter" name="optionsRadios" id="optionsRadios1" value="all">
                  All
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" ng-model="dlForm.filter" name="optionsRadios" id="optionsRadios2" value="weekdays">
                  Weekdays
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" ng-model="dlForm.filter" name="optionsRadios" id="optionsRadios3" value="weekends">
                  Weekends
                </label>
              </div>
            </div>
    
            <!-- Submit button -->
            <div class="form-group">
              <div class="col-md-offset-7 col-md-5">
                <button type="submit" class="btn btn-success">Submit</button>
              </div>
            </div>
          </form>
        </div>
        <div ng-switch-when="dependency">
          <h4>Modules that list {{module.name}} as a dependency.</h4>
        </div>
        <div ng-switch-when="version">
          <h4>Version release history.</h4>
          <form ng-submit="drawGraph('dependency')" class="form-horizontal">
            <!-- Date Range controls -->
            <div class="form-group">
              <label for="start-date" class="col-md-4 control-label">Start Date</label>
              <div class="col-md-8">
                <input type="date" class="form-control" id="start-date" ng-model="dlForm.startDate">
              </div>
            </div>
            <div class="form-group">
              <label for="end-date" class="col-md-4 control-label">End Date</label>
              <div class="col-md-8">
                <input type="date" class="form-control" id="end-date" ng-model="dlForm.endDate">
              </div>
            </div>
            <!-- Submit button -->
            <div class="form-group">
              <div class="col-md-offset-7 col-md-5">
                <button type="submit" class="btn btn-success">Submit</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="row details-readme">
    <h1><strong>Readme</strong></h1><p>{{module.readme}}</p>
  </div>
</div>